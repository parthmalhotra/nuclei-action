name: "Subdomain finding using subfinder"
author: "v1dhun"
description: "Subfinder is a subdomain discovery tool developed by ProjectDiscovery.io."
branding:
  icon: "alert-circle"
  color: "blue"

inputs:
  domains-list:
    description: "List of domains to run subfinder"
    required: true
  telegram-chat-id:
    description: "Telegram chat id to send notifications"
    required: false
  telegram-token:
    description: "Telegram bot token to send notifications"
    required: false
  check-alive:
    description: "To check host is alive or not using httpx"
    required: false
    default: "false"
  config-list:
    description: "Configuration file for API Keys, etc"
    required: false
    default: "config.yaml"


runs:
  using: "composite"
  steps:
    - run: | 
       GO111MODULE=on go get -v github.com/projectdiscovery/subfinder/v2/cmd/subfinder
      shell: bash
    - run: ./subfinder -config ${{ inputs.config-list }} -t 50 -dL ${{ inputs.domains-list }} --silent -o hosts.txt
      shell: bash
